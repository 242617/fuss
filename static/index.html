<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>torture</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/switchery.min.css">
	<link rel="stylesheet" href="css/style.css">
	<script type="text/javascript" src="js/switchery.min.js"></script>
	<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="js/jquery-ui-1.8.21.custom.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>
</head>
<body>
	<div class="container">
		<h1>torture</h1>
		<div class="well well-lg">
			<input type="checkbox" class="js-switch" id="enabled" />
			<section>	
				<span class="tooltip"></span>
				<div id="slider"></div>
				<span class="volume"></span>
			</section>
		</div>
		<div class="well well-lg">
			<div>
				<input type="text" id="address" value="http://localhost:8080/api">
			</div>
		</div>
	</div>
</body>
<script type="text/javascript">

	let address = () => document.getElementById("address").value;

	let enabled = document.getElementById("enabled");
	new Switchery(enabled);
	
	enabled.addEventListener("change", event => {
		fetch(address(), { method: "PUT", body: JSON.stringify({ enabled: event.target.checked }) })
		.then(console.log)
		.catch(console.error);
	});

	const manualPayload = '{"left":800,"right":900}';
	const fluidPayload = '{"delta":{"min":4,"max":10},"frequency":{"min":30,"max":50},"delay":100}';

</script>
</html>